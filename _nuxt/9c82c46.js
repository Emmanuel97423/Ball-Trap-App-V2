(window.webpackJsonp=window.webpackJsonp||[]).push([[47,14],{668:function(e,t,r){var content=r(678);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(52).default)("36035e02",content,!0,{sourceMap:!1})},677:function(e,t,r){"use strict";r(668)},678:function(e,t,r){var o=r(51)(!1);o.push([e.i,".content__modal--adress{padding:2rem}",""]),e.exports=o},685:function(e,t,r){"use strict";r.r(t);var o=r(16),n=(r(55),r(41),r(92)),l={name:"adressModal",props:{method:{type:Function}},components:{ValidationObserver:n.a,ValidationProvider:n.b},data:function(){return{invoicing:{userId:"",firstName:"",lastName:"",company:"",email:"",country:"",zone:"",zip:"",adress:"",review:""}}},methods:{logout:function(){this.$auth.logout("local").then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},onSubmit:function(){var e=this,t=this.$store.state.user.userLogin;this.invoicing.userId=t.userId,this.$store.dispatch("user/getUserDetails",t.userId),this.$store.dispatch("adress/addAdress",this.invoicing),setTimeout(Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$store.dispatch("adress/getAdresses",t.userId);case 3:try{e.$bvModal.hide("modal-1"),e.$emit("refresh")}catch(e){console.log(e)}r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),console.log(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])}))),2e3)}}},c=(r(677),r(40)),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("b-modal",{attrs:{id:"modal-1","hide-footer":"",centered:"",title:"Editez vos coordonnées de facturation","content-class":"content__modal--adress"}},[r("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var o=t.handleSubmit;return[r("form",{attrs:{id:"form"},on:{submit:function(t){return t.preventDefault(),o(e.onSubmit)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-6 col-md-12 col-sm-=12 col-12"},[r("div",{staticClass:"form-group"},[r("ValidationProvider",{attrs:{rules:"required|alpha"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[r("label",{attrs:{for:"firstName"}},[e._v("Nom")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.invoicing.firstName,expression:"invoicing.firstName"}],staticClass:"form-control",attrs:{type:"text",id:"fname",name:"firstName",placeholder:"Nom *",required:""},domProps:{value:e.invoicing.firstName},on:{input:function(t){t.target.composing||e.$set(e.invoicing,"firstName",t.target.value)}}}),e._v(" "),r("span",{staticClass:"error__message"},[e._v(e._s(o[0]))])]}}],null,!0)})],1)]),e._v(" "),r("div",{staticClass:"col-lg-6 col-md-12 col-sm-=12 col-12"},[r("ValidationProvider",{attrs:{name:"lastName",rules:"required|alpha"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"lastName"}},[e._v("Prénom")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.invoicing.lastName,expression:"invoicing.lastName"}],staticClass:"form-control",attrs:{type:"text",required:"",id:"lname",name:"lastName",placeholder:"Prénom *"},domProps:{value:e.invoicing.lastName},on:{input:function(t){t.target.composing||e.$set(e.invoicing,"lastName",t.target.value)}}}),e._v(" "),r("span",{staticClass:"error__message"},[e._v(e._s(o[0]))])])]}}],null,!0)})],1),e._v(" "),r("div",{staticClass:"col-lg-12 col-md-12 col-sm-=12 col-12"},[r("ValidationProvider",{attrs:{name:"company"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"cname"}},[e._v("Entreprise")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.invoicing.company,expression:"invoicing.company"}],staticClass:"form-control",attrs:{type:"text",id:"cname",name:"company",placeholder:"Entreprise"},domProps:{value:e.invoicing.company},on:{input:function(t){t.target.composing||e.$set(e.invoicing,"company",t.target.value)}}}),e._v(" "),r("span",{staticClass:"error__message"},[e._v(e._s(o[0]))])])]}}],null,!0)})],1),e._v(" "),r("div",{staticClass:"col-lg-12 col-md-12 col-sm-=12 col-12"},[r("ValidationProvider",{attrs:{name:"email",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"email"}},[e._v("Email ")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.invoicing.email,expression:"invoicing.email"}],staticClass:"form-control",attrs:{required:"",type:"email",id:"email",name:"email",placeholder:"info@gmail.com *"},domProps:{value:e.invoicing.email},on:{input:function(t){t.target.composing||e.$set(e.invoicing,"email",t.target.value)}}}),e._v(" "),r("span",{staticClass:"error__message"},[e._v(e._s(o[0]))])])]}}],null,!0)})],1),e._v(" "),r("div",{staticClass:"col-lg-12 col-md-12 col-sm-=12 col-12"},[r("ValidationProvider",{attrs:{name:"country",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"country"}},[e._v("Pays")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.invoicing.country,expression:"invoicing.country"}],staticClass:"form-control first_null",attrs:{id:"country",name:"country",required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.invoicing,"country",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:""}},[e._v("Choisissez une option... *")]),e._v(" "),r("option",{attrs:{value:"FR"}},[e._v("France")])]),e._v(" "),r("span",{staticClass:"error__message"},[e._v(e._s(o[0]))])])]}}],null,!0)})],1),e._v(" "),r("div",{staticClass:"col-lg-6 col-md-12 col-sm-=12 col-12"},[r("ValidationProvider",{attrs:{name:"zone",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"city"}},[e._v("Région")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.invoicing.zone,expression:"invoicing.zone"}],staticClass:"form-control first_null",attrs:{id:"zone",name:"zone",required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.invoicing,"zone",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:""}},[e._v("Choisissez une option... *")]),e._v(" "),r("option",{attrs:{value:"Réunion"}},[e._v("Réunion")])]),e._v(" "),r("span",{staticClass:"error__message"},[e._v(e._s(o[0]))])])]}}],null,!0)})],1),e._v(" "),r("div",{staticClass:"col-lg-6 col-md-12 col-sm-=12 col-12"},[r("ValidationProvider",{attrs:{name:"zip",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"zip"}},[e._v("Code postal")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.invoicing.zip,expression:"invoicing.zip"}],staticClass:"form-control",attrs:{type:"text",id:"zip",name:"zip",required:"",placeholder:"Entrez votre code postal *"},domProps:{value:e.invoicing.zip},on:{input:function(t){t.target.composing||e.$set(e.invoicing,"zip",t.target.value)}}}),e._v(" "),r("span",{staticClass:"error__message"},[e._v(e._s(o[0]))])])]}}],null,!0)})],1),e._v(" "),r("div",{staticClass:"col-lg-12 col-md-12 col-sm-=12 col-12"},[r("ValidationProvider",{attrs:{name:"adresse",rule:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.errors;return[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"addresse"}},[e._v("Adresse complète")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.invoicing.adress,expression:"invoicing.adress"}],staticClass:"form-control",attrs:{type:"text",id:"adresse",name:"adresse",required:"",placeholder:"Entrez votre adresse.. *"},domProps:{value:e.invoicing.adress},on:{input:function(t){t.target.composing||e.$set(e.invoicing,"adress",t.target.value)}}}),e._v(" "),r("span",{staticClass:"error__message"},[e._v(e._s(o[0]))])])]}}],null,!0)})],1)]),e._v(" "),r("button",{staticClass:"theme-btn-one btn-black-overlay btn_md",attrs:{type:"submit"}},[e._v("\n          Sauvegarder\n        ")])])]}}])})],1)],1)}),[],!1,null,null,null);t.default=component.exports},727:function(e,t,r){var content=r(775);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(52).default)("502c048b",content,!0,{sourceMap:!1})},774:function(e,t,r){"use strict";r(727)},775:function(e,t,r){var o=r(51)(!1);o.push([e.i,".view[data-v-44efe14c]{font-size:15px;cursor:pointer}.invoice__adresse[data-v-44efe14c]{font-weight:700}.btn_md[data-v-44efe14c]{margin:0 0 1rem}",""]),e.exports=o},822:function(e,t,r){"use strict";r.r(t);var o=r(16),n=(r(55),r(41),r(92)),l=r(685),c={name:"Addresses",middleware:"auth",props:{method:Function},components:{ValidationProvider:n.b,ValidationObserver:n.a,Modal:l.default},asyncData:function(){return{enabled:!0,formEnabled:!1,title:"Adresse",breadcrumbItems:[{text:"Accueil",to:"/"},{text:"Adresses"}],invoicing:{userId:"",firstName:"",lastName:"",company:"",email:"",country:"",zone:"",zip:"",adress:"",review:""}}},head:function(){return{title:this.title,meta:[{hid:"description",name:"description",content:"Addresses page - AndShop Ecommerce Vue js, Nuxt js Template"}]}},methods:{refresh:function(){this.$nuxt.refresh()},formShow:function(){this.$bvModal.show("modal-1")},logout:function(){this.$auth.logout("local").then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},onSubmit:function(){var e=this,t=this.$store.state.user.userLogin;this.invoicing.userId=t.userId,this.$store.dispatch("user/getUserDetails",t.userId),this.$store.dispatch("adress/addAdress",this.invoicing),setTimeout(Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$store.dispatch("adress/getAdresses",t.userId);case 3:try{console.log("Refresh"),e.$router.push("/my-account")}catch(e){console.log(e)}r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),console.log(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])}))),2e3)}},created:function(){try{var e=this.$store.state.auth.user;this.$store.dispatch("user/getUserDetails",e.userId),this.$store.dispatch("adress/getAdresses",e.userId)}catch(e){console.log(e)}},computed:{adresses:function(){return this.$store.state.adress.userAdresses.data}}},d=(r(774),r(40)),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.enabled?r("section",{attrs:{id:"common_banner_one"}},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-12"},[r("div",{staticClass:"common_banner_text"},[r("h2",[e._v(e._s(this.title))]),e._v(" "),r("b-breadcrumb",{staticClass:"bg-transparent",attrs:{items:e.breadcrumbItems}})],1)])])])]):e._e(),e._v(" "),r("section",{staticClass:"ptb-100",attrs:{id:"my-account_area"}},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12 col-md-3 col-lg-3 dashboard_container"},[r("div",{staticClass:"dashboard_tab_button"},[r("b-navbar-nav",[r("b-nav-item",{attrs:{to:"/my-account"}},[e._v("Tableau de bord")]),e._v(" "),r("b-nav-item",{attrs:{to:"/my-account/orders"}},[e._v("Commande")]),e._v(" "),r("b-nav-item",{attrs:{to:"/my-account/addresses"}},[e._v("Adresse")]),e._v(" "),r("b-nav-item",{attrs:{to:"/my-account/account-details"}},[e._v("Détails du compte")]),e._v(" "),r("b-nav-item",{on:{click:e.logout}},[e._v("Déconnexion")])],1)],1)]),e._v(" "),r("div",{staticClass:"col-sm-12 col-md-9 col-lg-9"},[r("div",{staticClass:"dashboard_content"},[r("p",[e._v("\n              Les adresses suivantes seront utilisées par défaut sur la page\n              de paiement.\n            ")]),e._v(" "),r("h5",{staticClass:"billing-address"},[e._v("Adresse")]),e._v(" "),e.adresses?r("p",[r("strong",[e._v(e._s(e.adresses.firstName)+" "+e._s(e.adresses.lastName)+"\n              ")])]):e._e(),e._v(" "),r("div",[e._v("\n              Information de facturation:\n              "),r("br"),e._v(" "),r("div",{staticClass:"table_page table-responsive"},[r("table",[e._m(0),e._v(" "),e.adresses?r("tbody",[r("tr",[r("td",{staticClass:"adresses_adress"},[r("p",[e._v(e._s(e.adresses.adress))])]),e._v(" "),r("td",{staticClass:"adresses_zip"},[r("p",[e._v(e._s(e.adresses.zip))])]),e._v(" "),r("td",{staticClass:"adresses_zone"},[r("p",[e._v(e._s(e.adresses.zone))])]),e._v(" "),r("td",{staticClass:"adresses_name"},[e._v("\n                        "+e._s(e.adresses.firstName)+" "+e._s(e.adresses.lastName)+"\n                      ")]),e._v(" "),e._m(1)])]):r("tbody",[e._m(2)])])])]),e._v(" "),r("button",{staticClass:"theme-btn-one btn-black-overlay btn_md",on:{click:e.formShow}},[e._v("\n              Editer\n            ")])]),e._v(" "),r("Modal",{on:{modal:e.formShow,refresh:e.refresh}})],1)])])])])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",{staticClass:"adresses_adress"},[e._v("Adresses")]),e._v(" "),r("th",{staticClass:"adresses_zip"},[e._v("Code postal")]),e._v(" "),r("th",{staticClass:"adresses_zone"},[e._v("Zone")]),e._v(" "),r("th",{staticClass:"adresses_name"},[e._v("Nom")]),e._v(" "),r("th",{staticClass:"product_quantity"},[e._v("Adresse par défault")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"adresses_default"},[t("input",{attrs:{type:"radio",name:"adress_default",value:"default",checked:"true"}})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",{staticClass:"border-0"},[e._v("Aucune adresse enregistrer!")])])}],!1,null,"44efe14c",null);t.default=component.exports}}]);